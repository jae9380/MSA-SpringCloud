

# Section 1
<details>
<summary>part 1 / Erueka μ„λ²„ ν”„λ΅μ νΈ μƒμ„±</summary>
<div markdown="1">

##  Created erueka server project

`@EnableEurekaServer` 
μ„ μ–Έλ μ–΄ν”λ¦¬μΌ€μ΄μ…μ„ Eureka μ„λ²„λ΅ μ„¤μ •ν•  λ• μ‚¬μ©   
ν•΄λ‹Ή μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄, ν•΄λ‹Ή μ• ν”λ¦¬μΌ€μ΄μ…μ€ Eureka μ„λ²„λ΅μ„ λ™μ‘ν•λ‹¤. 
Eureka μ„λ²„λ” λ‹¤λ¥Έ λ§μ΄ν¬λ΅μ„λΉ„μ¤ μΈμ¤ν„΄μ¤μ λ“±λ΅κ³Ό λ””μ¤μ»¤λ²„λ¦¬λ¥Ό κ΄€λ¦¬λ¥Ό ν•λ‹¤.

```yaml
eureka:
  client:
    register-with-eureka: false # or true
    fetch-registry: false # or true
```

`register-with-eureka`
μΌλ°μ μΌλ΅ Eureka μ„λ²„ μμ²΄λ¥Ό μ„¤μ •ν•  λ• μ‚¬μ©μ„ ν•λ‹¤.    
Eureka μ„λ²„λ” λ‹¤λ¥Έ λ§μ΄ν¬λ΅μ„λΉ„μ¤ μΈμ¤ν„΄μ¤λ¥Ό κ΄€λ¦¬ν•κ³  λ“±λ΅ν•κΈ° λ•λ¬Έμ— μ§€κΈ ν”„λ΅μ νΈλ” μ„λ²„ μμ²΄κ°€ λ‹¤μ‹ μκΈ° μμ‹ μ—κ² λ“±λ΅λ  ν•„μ”κ°€ μ—†κΈ°μ— `false`λ΅ μ„¤μ •
   
`fetch-registry`
Eureka μ„λ²„λ¥Ό μ„¤μ •ν•  λ• μ£Όλ΅ μ‚¬μ©λ©λ‹λ‹¤.   
Eureka μ„λ²„λ” μμ‹ μ΄ λ“±λ΅λ μΈμ¤ν„΄μ¤ μ •λ³΄λ¥Ό κ°€μ§€κ³  μμ–΄μ•Ό ν•λ©°, λ‹¤λ¥Έ μ„λ²„λ΅λ¶€ν„° μ •λ³΄λ¥Ό κ°€μ Έμ¬ ν•„μ”κ°€ μ—†κΈ° λ•λ¬Έμ— `false`λ΅ μ„¤μ •μ„ ν•¨

## μ‹¤ν–‰ ν™”λ©΄
![](https://i.postimg.cc/KjVShF6G/2024-07-23-18-24-55.png)

---

</div>
</details>



<details>
<summary>part 2 / Erueka ν΄λΌμ΄μ–ΈνΈ ν”„λ΅μ νΈ μƒμ„±</summary>
<div markdown="1">

## Created eureka client project

[user-service ν”„λ΅μ νΈ μƒμ„±](https://github.com/jae9380/user-service)   
ν•΄λ‹Ή ν”„λ΅μ νΈλ” Eureka μ„λ²„μ— λ“±λ΅ ν•  ν΄λΌμ΄μ–ΈνΈ ν”„λ΅μ νΈμ΄κΈ° λ•λ¬Έμ— part 1 μ— ymlμ„¤μ • λ¶€λ¶„μ—μ„ Eureka μ„¤μ • κ°’μ„ false π‘‰true λ³€κ²½ν•μ—¬ μ‘μ„±   
κ·Έλ¦¬κ³  urlμ¶”κ°€λ¥Ό μ„ν•΄μ„ μ‘μ„±
```yaml
    service-url:
      defaultZone: http://127.0.0.1:8761/eureka
```

ν΄λΌμ΄μ–ΈνΈ ν”„λ΅μ νΈ λ¶€λ¶„μ— `@EnableDiscoveryClient` μ¶”κ°€

μ΄ν›„ μ„λ²„ ν”„λ΅μ νΈμ™€ ν΄λΌμ΄μ–ΈνΈ ν”„λ΅μ νΈλ¥Ό μ‹¤ν–‰ν•μ—¬ μ„λ²„μ— μ ‘μ†μ„ ν•λ©΄

![](https://i.postimg.cc/sfWyWHZt/2024-07-23-19-17-20.png)

μ„μ™€ κ°™μ΄ μ„λ²„μ— ν΄λΌμ΄μ–ΈνΈκ°€ μ¶”κ°€λ λ§μ„ ν™•μΈν•  μ μλ‹¤.

---

</div>
</details>

<details>
<summary>part 3 /  ν΄λΌμ΄μ–ΈνΈ ν”„λ΅μ νΈ μ‹¤ν–‰ </summary>
<div markdown="1">

## Porject testing

ν΄λΌμ΄μ–ΈνΈ ν”„λ΅μ νΈ 3κ° μ‹¤ν–‰μ‹ν‚¤κΈ°
ν¬νΈλ²νΈλ¥Ό κ° 1, 2, 3μΌλ΅ μ„¤μ •
(3λ²μ κ²½μ°, ν„°λ―Έλ„μ—μ„ μ•„λ λ…λ Ήμ–΄ μ…λ ¥)    
```cmd
mvn spring-boot:run -Dspring-boot.run.jvmArguments='-Dserver.port=9003'
``` 

![](https://ifh.cc/g/NzsrA9.jpg)
ν΄λΌμ΄μ–ΈνΈ 3κ°κ°€ μ΅ν€μλ” κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.

μ¶”κ°€μ μΌλ΅ ν•λ‚ λ” μ‹¤ν–‰μ„ ν•κ² λ‹¤.

μ΄λ²μ—λ” λ°”νƒ•ν™”λ©΄μ—μ„ ν„°λ―Έλ„μ„ μ΄μ©μ„ ν•λ‹¤.
`cd` λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•μ—¬ ν”„λ΅μ νΈκ°€ μλ” μ„μΉλ΅ μ΄λ™ ν›„   
```cmd
java -jar -Dserver.port=9004 ./target/user-service-0.0.1-SNAPSHOT.jar
```


</div>
</details>


<details>
<summary>part 4 / ν¬νΈ κ΄€λ ¨ μ„¤μ •</summary>
<div markdown="1">

## YML file configuration for setting the port number of the client project

κΈ°μ΅΄μ ν΄λΌμ΄μ–ΈνΈμ `application.yml`νμΌμ—μ„ μ„λ²„ ν¬νΈλ¥Ό μ§€μ •μ„ ν–μ„ λ• 
ν•΄λ‹Ή ν”„λ΅μ νΈλ¥Ό μ¤‘λ³µ μ‹¤ν–‰μ„ μ„ν•΄μ„ μ§μ ‘ ν¬νΈλ¥Ό λ‹¤λ¥Έ κ°’μΌλ΅ μ§€μ •μ„ ν•μ€λ‹¤.
ν•μ§€λ§ μ΄λ¬ν• λ°©λ²•μ€ ν¨μ¨μ μ΄μ§€ λ» ν•λ‹¤.

κ·Έλμ„ ν¬νΈμ κ°’μ„ 
```yaml
server:
  port: 0

eureka:
  instance:
    instance-id: ${spring.cloud.client.hostname}:${spring.application.instance_id:${random.value}}
```
λ³€κ²½ν•μ—¬ ν¬νΈ λ²νΈλ¥Ό λλ¤μΌλ΅ μ§€μ •ν•λ” λ°©λ²•μΌλ΅ μμ •

![](https://i.postimg.cc/cLxndydV/2024-07-26-132353.png)
![](https://i.postimg.cc/N0L2r69D/2024-07-26-133542.png)
![](https://i.postimg.cc/g05Xyx3W/2024-07-26-133603.png)

[URL of the commit for the client project](https://github.com/jae9380/user-service/commit/e8ce0d8fb1ef0df3f89339ce1dab67ff9453e14d)


</div>
</details>

# section 2

<details>
<summary>part </summary>
<div markdown="1">

API Gateway Serviceμ μ—­ν™μ— λ€ν•΄μ„    

ν•΄λ‹Ή μ„λΉ„μ¤λ” μ‚¬μ©μκ°€ μ •μν• λΌμ°ν… μ„¤μ •μ— λ”°λΌμ„ κ°κ°μ μ—”νΈν¬μΈνΈλ΅ ν΄λΌμ΄μ–ΈνΈλ¥Ό λ€μ‹ ν•μ—¬ μ”μ²­ν•κ³  μ‘λ‹Ήμ„ λ°›μΌλ©° λ‹¤μ‹ ν΄λΌμ΄μ–ΈνΈν•ν… μ „λ‹¬ν•΄μ£Όλ” ν”„λ΅μ‹ μ—­ν™μ„ ν•κ²λλ‹¤.

μ‹μ¤ν… λ‚΄λ¶€ κµ¬μ΅°λ” μ¨κΈ°κ³  μ™Έλ¶€μ μ”μ²­μ— λ€ν•μ—¬ μ μ ν• ν•νƒλ΅ μ‘λ‹µμ„ ν•λ„λ΅ ν•λ‹¤λ” μ¥μ μ΄ μλ‹¤.

![](https://i.postimg.cc/26m9zyQx/APIGateway2.png)


λ§μ΄ν¬λ΅ μ„λΉ„μ¤κ°€ 3κ°€μ§€ μλ‹¤κ³  κ°€μ •μ„ ν•μ.

κΈ°μ΅΄μ—λ” λ¨λ°”μΌλ‚ μ›Ήμ΄κ±°λ‚ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ λ§μ΄ν¬λ΅ μ„λΉ„μ¤μ μ£Όμ†λ¥Ό μ§μ ‘ μ΄μ©ν•΄μ„ νλ¦¬λ―Έν„°λ¥Ό μ „λ‹¬ν•κ³   μ”μ²­ν•λ” κ²ƒμΌλ΅ λ³Ό μ μλ‹¤. μ—¬κΈ°μ„ ν•λ‚μ μ„λΉ„μ¤κ°€ μ¶”κ°€λκ±°λ‚, κΈ°μ΅΄ μ„λΉ„μ¤μ μ£Όμ„κ°€ λ³€κ²½ λκ±°λ‚ λ“± μΌμ΄ μ–Όμ–΄λ‚¬μ„ λ• λ§μ΄ν¬λ΅ μ„λΉ„μ¤κ°€ λ…λ¦½μ μΌλ΅ λΉλ“μ™€ λ°°ν¬κ°€ λλ‹¤. κ·Έλ¬λ©΄ λ¬Έμ λ” ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“μ—μ„ λ°μƒν•λ‹¤.

ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“μ—μ„ μ§μ ‘μ μΌλ΅ μ—”νΈν¬μΈνΈλ¥Ό μ΄μ©ν•΄μ„ νΈμ¶ν–μ„ κ²½μ°μ—λ” ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“μ— μλ” μ–΄ν”λ¦¬μΌ€μ΄μ… λν• κ°™μ΄ μμ •, λ°°ν¬λ¥Ό ν•΄μ¤μ•Ό ν•λ‹¤. 

μ΄λ ‡κ² λ‹¨μΌ μ§„μ…μ μ„ κ°–κ³  μλ” ν•νƒλ΅μ κ°λ°μ΄ ν•„μ”ν•κ² λμ—λ‹¤.

![](https://i.postimg.cc/2yGspvgv/APIGateway.png)

μ„ μ²λΌ μ„λ²„μ— Gatewayμ—­ν™μ„ μν–‰μ„ ν•  μ§„μ…μ μ„ ν•λ‚ λ‘κ³  κ°κ°μ λ§μ΄ν¬λ΅ μ„λΉ„μ¤λ΅ μ”μ²­λλ” λ¨λ“  μ •λ³΄μ— λ€ν•μ—¬ μΌκ΄„μ μΌλ΅ μ²λ¦¬ν•  μ μκ² λ§λ“¤μ–΄ μ¤€λ‹¤.

μ–΄λ–¤ λ°©μ‹μ— μμ–΄μ„ μ§μ ‘μ μΌλ΅ λ§μ΄ν¬λ΅ μ„λΉ„μ¤λ¥Ό νΈμ¶ν•μ§€ μ•κ³ , ν΄λΌμ΄μ–ΈνΈλ” Gatewayλ§μ„ μƒλ€ν•κ² ν•λ‹¤.

μ΄λ¬ν• `API Gateway`λ¥Ό μ΄μ©ν•κ² λλ‹¤λ©΄ 
 * μΈμ¦ λ° κ¶ν• λ¶€μ—¬μ— λ€ν• λ‹¨μΌ μ‘μ—… κ°€λ¥
 * λ§μ΄ν¬λ΅ μ„λΉ„μ¤μ κ²€μƒ‰μ„ ν†µν•© 
 * μ‘λ‹µν•  μ μλ” μΊμ‹± μ •λ³΄λ¥Ό μ €μ¥
 * μ •μ±…, νλ΅ μ°¨λ‹¨κΈ° λ° Qos λ‹¤μ‹ μ‹λ„
 * μ†λ„ μ ν•κ³Ό λ΅λ“λ°Έλ°μ‹±
 * λ¶€ν• λ¶„μ‚° 
 * λ΅κΉ…, μ¶”μ , μƒκ΄€κ΄€κ³„
 * ν—¤λ”, μΏΌλ¦¬λ¬Έ λ¬Έμμ—΄ λ° μ²­κµ¬ λ°ν™
 * IPμ— λ€ν•μ—¬ ν—μ©, μ°¨λ‹¨ λ©λ΅ κ΄€λ¦¬ 

## Netflix Ribbon
μ¤ν”„λ§ ν΄λΌμ°λ“μ—μ„ λ§μ΄ν¬λ΅ μ„λΉ„μ¤κ°„μ ν†µμ‹ , ν•λ‚μ λ§μ΄ν¬λ΅ μ„λΉ„μ¤μ—μ„ λ‹¤λ¥Έ λ§μ΄ν¬λ΅ μ„λΉ„μ¤λ¥Ό νΈμ¶ν•κΈ° μ„ν• λ°©λ²• μ¤‘ λ€ν‘μ μΈ λ°©λ²•μ€ `Rest Template`μ™€ `Feign Client`κ°€ μλ‹¤.

* Rest Template
`Rest Template`μ€ μ „ν†µμ μΌλ΅ ν•λ‚μ μ›Ή μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ‹¤λ¥Έ μ–΄ν”λ¦¬μΌ€μ΄μ…μ„ μ΄μ©ν•κΈ° μ„ν•΄μ„ μ‚¬μ©ν• λ°©λ²•μ΄λ‹¤.

```java
RestTemplate restTemplate = new RestTemplate();
restTemplate.getForObject(http://localhost:8080/",User.class,200);
```

* Feign Client
μ¤ν”„λ§ ν΄λΌμ°λ“μ—μ„λ” `Feign Client`λΌλ” APIλ¥Ό μ΄μ©ν•μ—¬ νΈμ¶μ΄ κ°€λ¥ν•λ‹¤.


### API Gateway Service

`API Gateway Service`λ” μ‚¬μ©μκ°€ μ„¤μ •ν• λΌμ°ν… μ„¤μ •μ— λ”°λΌ κ°κ°μ μ—”λ“ ν¬μΈνΈλ΅ ν΄λΌμ΄μ–ΈνΈλ¥Ό λ€μ‹  μ”μ²­ν•κ³  μ‘λ‹µμ„ λ°›μΌλ©΄ λ‹¤μ‹ ν΄λΌμ΄μ–ΈνΈ ν•ν… μ „λ‹¬ν•΄μ£Όλ” ν”„λ΅μ‹ μ—­ν™μ„ ν•λ‹¤.


</div>
</details>



_ν† κΈ€_   
```html
<details>
<summary>part </summary>
<div markdown="1">



</div>
</details>
```